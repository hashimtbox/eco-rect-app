(this["webpackJsonpchalo-chalen-web"]=this["webpackJsonpchalo-chalen-web"]||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/events.b3b9a469.svg"},135:function(e,t,a){e.exports=a(176)},140:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(140),a(46)),i=a(216),s=a(209),u=a(240),m=a(210),d=a(211),p=a(207),h=a(212),E=a(213),f=a(214),y=a(215),v=function(e){var t=new Date(e);return{day:t.getDate(),month:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]}},g=function(e){var t,a=e.event;return r.a.createElement(p.a,null,r.a.createElement(s.a,{avatar:r.a.createElement(u.a,{src:a.host_profile_picture}),action:r.a.createElement(m.a,{"aria-label":"settings"},r.a.createElement(d.a,null)),title:a.hosted_by,subheader:(t=a.date,new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),r.a.createElement(h.a,{style:{height:150,minWidth:200},image:a.cover_picture,title:a.title}),r.a.createElement(E.a,null,r.a.createElement("div",{style:{display:"flex",height:60}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:15,marginTop:3}},r.a.createElement(o.a,{color:"error"},v(a.date).month),r.a.createElement(o.a,null,v(a.date).day)),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(o.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.title),r.a.createElement(o.a,{variant:"body2",color:"textSecondary",component:"p"},a.description.slice(0,100).toLowerCase())))),r.a.createElement(f.a,null,r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement(y.a,{size:"small",color:"primary"},"Learn More")))},b=function(e){var t=e.events;return r.a.createElement(i.a,{container:!0,spacing:2},t.map((function(e){return r.a.createElement(i.a,{item:!0,xl:4,lg:4,md:4,xs:4},r.a.createElement(g,{event:e}))})))},w=a(76),x=a(16),j=a(227),O=a(228),C=a(229),P=a(239),S=a(217),D=a(180),T=a(230),k=a(109),L=a.n(k),R=a(24),z=a(17),A=a(105),I=a(106),_=a(118),U=a(107),N=a(120),B=a(119),Y=a(218),M=a(219),G=a(221),W=a(220),J=a(222),V=a(36),K=a.n(V),F=a(55),q=a(49),H="http://api.chalochalen.com",Q=Object(q.b)({name:"auth",initialState:{user:null,error:null,inProgress:!1,isReady:!1},reducers:{setUser:function(e,t){e.user=t.payload},setError:function(e,t){e.error=t.payload},setProgress:function(e,t){e.inProgress=t.payload},setReady:function(e,t){e.isReady=t.payload}}}),X=Q,Z=a(117),$=Object(q.b)({name:"event",initialState:{events:[],inProgress:!1,error:null},reducers:{setEvents:function(e,t){e.events=t.payload},setError:function(e,t){e.error=t.payload},setProgress:function(e,t){e.inProgress=t.payload}}}),ee=$,te=Object(q.a)({reducer:{auth:X.reducer,event:ee.reducer},middleware:Object(Z.a)(Object(q.c)())}),ae=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(_.a)(this,Object(U.a)(t).call(this,e))).open=function(e){a.setState({anchorE1:e.currentTarget})},a.handleClose=function(){a.setState({anchorE1:null})},a.onLogout=function(){te.dispatch(function(){var e=Object(F.a)(K.a.mark((function e(t){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(H,"/web_api/auth/admin_logout"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n),n.success&&t(Q.actions.setUser(null)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())},a.state={anchorE1:null},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B.a,{anchorEl:this.state.anchorE1,open:Boolean(this.state.anchorE1),onClose:this.handleClose},r.a.createElement(Y.a,null,r.a.createElement(M.a,null,r.a.createElement(W.a,null)),r.a.createElement(G.a,null,"Settings")),r.a.createElement(Y.a,{onClick:this.onLogout},r.a.createElement(M.a,null,r.a.createElement(J.a,null)),r.a.createElement(G.a,null,"Logout"))))}}]),t}(r.a.Component),ne=a(223),re=a(224),ce={items:[{title:"Dashboard",icon:ne.a,route:"/"},{title:"Event",icon:re.a,route:"/create"},{title:"Settings",icon:W.a,route:"/"}],drawerWidth:80},le="#1976D2",oe="#448aff",ie=L()((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:80,flexShrink:0},drawerPaper:{width:80},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,drawerContent:{marginTop:100}}})),se=function(e){var t=e.selected,a=e.children,c=Object(w.a)(e,["selected","children"]),l=ie(),i=Object(R.f)(),s=Object(x.a)(),d=Object(n.useRef)(),p=Object(z.c)((function(e){return e.auth})).user;return r.a.createElement("div",Object.assign({className:l.root},c),r.a.createElement(j.a,null),r.a.createElement(ae,{ref:d}),r.a.createElement(O.a,{className:l.appBar,variant:"elevation",position:"fixed"},r.a.createElement(C.a,null,r.a.createElement(T.a,{fontSize:"large"}),r.a.createElement(o.a,{style:{marginLeft:10},variant:"h6"},"Chalo Chalen"),r.a.createElement("span",{style:{flexGrow:1}}),r.a.createElement(m.a,{onClick:function(e){return d.current.open(e)}},r.a.createElement(u.a,{src:p.profile_picture,className:l.avatar})))),r.a.createElement(P.a,{className:l.drawer,variant:"permanent",classes:{paper:l.drawerPaper}},r.a.createElement(S.a,{className:l.drawerContent},ce.items.map((function(e){return r.a.createElement(D.a,{key:e.title,onClick:function(){return i.push(e.route)},button:!0,style:{display:"flex",justifyContent:"center",height:60}},r.a.createElement(e.icon,{fontSize:"large",style:{color:e.title===t?le:s.palette.grey.A700}}))})))),r.a.createElement("main",{className:l.content},r.a.createElement("div",{className:l.toolbar}),a))},ue=a(232),me=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(ue.a,{size:25}),r.a.createElement("span",{style:{width:10}}),r.a.createElement(o.a,null,"Loading, Please wait ..."))},de=function(){var e=Object(z.b)(),t=Object(z.c)((function(e){return e.event})),a=t.events,c=t.inProgress;t.error;return Object(n.useEffect)((function(){e(function(){var e=Object(F.a)(K.a.mark((function e(t){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t($.actions.setProgress(!0)),e.next=4,fetch("".concat(H,"/web_api/event"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),t($.actions.setProgress(!1)),n.success&&t($.actions.setEvents(n.events)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),t($.actions.setProgress(!1)),t($.actions.setError("Something gone wrong."));case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement(se,{selected:"Dashboard"},c?r.a.createElement(me,null):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(o.a,{variant:"h5"},"Popular Events in Lahore"),r.a.createElement("div",{style:{height:20}}),r.a.createElement(b,{events:a})))},pe=a(75),he=a(226),Ee=a(116),fe=Object(Ee.a)({palette:{type:"light",primary:{main:oe},secondary:{main:oe}},typography:{fontSize:13}}),ye=a(87),ve=a(236),ge=function(e){var t=e.size,a=void 0===t?"small":t,n=e.title,c=void 0===n?"Chalo Chalen":n;return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(T.a,{color:"primary",fontSize:a,style:{marginRight:6}}),r.a.createElement(o.a,{variant:"caption",fontSize:a,color:"primary"},c))},be=a(233),we=function(){var e=Object(n.useState)(""),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(ye.a)(l,2),s=i[0],u=i[1],m=Object(z.c)((function(e){return e.auth})),d=(m.user,m.error),p=m.inProgress,h=Object(z.b)();return Object(n.useEffect)((function(){c(""),u(""),Object(pe.a)(d,{type:"error"}),h(X.actions.setError(null))}),[d]),r.a.createElement("div",{style:{width:"100%",height:"100%",alignItems:"center",display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ge,null),r.a.createElement(o.a,{variant:"h3",color:"textSecondary",style:{fontWeight:300}},"Login"),r.a.createElement(o.a,{variant:"body2",color:"textSecondary",style:{fontWeight:400}},"Login to get started and continue to your dashboard"),r.a.createElement(ve.a,{style:{width:300},value:a,variant:"outlined",margin:"dense",label:"Email",onChange:function(e){return c(e.target.value)}}),r.a.createElement(ve.a,{style:{width:300},value:s,variant:"outlined",margin:"dense",type:"password",label:"Password",onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:15}},r.a.createElement(y.a,{startIcon:r.a.createElement(be.a,null),onClick:function(){return h(function(e,t){return function(){var a=Object(F.a)(K.a.mark((function a(n){var r,c,l;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Q.actions.setProgress(!0)),r=new URLSearchParams({email:e,password:t}),a.next=5,fetch("".concat(H,"/web_api/auth/admin_login"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:r});case 5:return c=a.sent,a.next=8,c.json();case 8:l=a.sent,console.log(l),n(Q.actions.setProgress(!1)),l.success?n(Q.actions.setUser(l.user)):n(Q.actions.setError(l.message)),a.next=19;break;case 14:a.prev=14,a.t0=a.catch(0),console.error(a.t0),n(Q.actions.setProgress(!1)),n(Q.actions.setError("Something went wrong."));case 19:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(a,s))},variant:"contained",size:"large",disabled:!a||!s,color:"primary",style:{width:150}},"Login"),p?r.a.createElement(ue.a,{variant:"indeterminate",style:{marginLeft:10},size:20}):null)))},xe=a(113),je=a.n(xe),Oe=function(){return r.a.createElement("div",null,r.a.createElement(o.a,{variant:"h3",style:{fontWeight:300},color:"textSecondary"},"Chalo Chalen"),r.a.createElement(o.a,{variant:"h6",style:{fontWeight:400},color:"textSecondary"},"Best Event Tracking Platform"),r.a.createElement("img",{style:{marginTop:50},src:je.a,alt:"events",height:350,width:400}))},Ce=function(){return r.a.createElement(i.a,{container:!0,style:{height:"100%"}},r.a.createElement(i.a,{item:!0,xl:6,lg:6,md:6,sm:6,xs:6},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"20%"}},r.a.createElement(Oe,null))),r.a.createElement(i.a,{item:!0,xl:6,lg:6,md:6,xs:6,sm:6},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"25%"}},r.a.createElement(we,null))))},Pe=(a(174),a(115)),Se=a(13),De=a(235),Te=a(86),ke=function(){return r.a.createElement(se,{style:{height:"100%"},selected:"Event"},r.a.createElement(o.a,{variant:"h5"},"Create Event"),r.a.createElement(o.a,{variant:"body2"},"Create new event from scratch"),r.a.createElement("div",{style:{height:10}}),r.a.createElement(ve.a,{placeholder:"Event Title",variant:"outlined",style:{width:400}}),r.a.createElement("div",{style:{height:10}}),r.a.createElement(ve.a,{multiline:!0,placeholder:"Event Description",variant:"outlined",rows:4,style:{width:600}}),r.a.createElement("div",{style:{height:10}}),r.a.createElement(Se.a,{utils:Te.a},r.a.createElement(De.a,{inputVariant:"outlined",style:{marginTop:12},label:"Event Start",format:"YYYY-MM-DD",value:new Date,InputAdornmentProps:{position:"start"},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{style:{display:"inline-flex",width:15}}),r.a.createElement(Se.a,{utils:Te.a},r.a.createElement(De.a,{inputVariant:"outlined",style:{marginTop:12},label:"Event Ends",format:"YYYY-MM-DD",value:new Date,InputAdornmentProps:{position:"start"},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{style:{height:10}}),r.a.createElement(y.a,{variant:"outlined"},"Create"))},Le=a(234),Re=function(e){var t=e.component,a=Object(w.a)(e,["component"]),c=Object(z.c)((function(e){return e.auth})),l=c.user,o=c.isReady,i=Object(z.b)();return Object(n.useEffect)((function(){i(function(){var e=Object(F.a)(K.a.mark((function e(t){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Q.actions.setReady(!1)),e.next=4,fetch("".concat(H,"/web_api/auth/current_user"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),t(Q.actions.setReady(!0)),t(n.success?Q.actions.setUser(n.user):Q.actions.setUser(null)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),t(Q.actions.setReady(!0)),t(Q.actions.setUser(null));case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),[]),o?r.a.createElement(R.a,Object.assign({},a,{component:l?t:Ce})):r.a.createElement(Le.a,{style:{flexGrow:1},color:"secondary"})};pe.a.configure();var ze=function(){Object(z.c)((function(e){return e.auth})).user;return r.a.createElement(he.a,{theme:fe},r.a.createElement(Pe.a,null,r.a.createElement(R.c,null,r.a.createElement(R.a,{path:"/login",component:Ce}),r.a.createElement(Re,{path:"/create",component:ke}),r.a.createElement(Re,{path:"/",component:de}))))};l.a.render(r.a.createElement(z.a,{store:te},r.a.createElement(ze,null)),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.de5a507f.chunk.js.map